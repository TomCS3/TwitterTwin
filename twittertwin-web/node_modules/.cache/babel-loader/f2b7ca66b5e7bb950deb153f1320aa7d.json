{"ast":null,"code":"import _toConsumableArray from\"/Users/tom/Dev/CompSci/cs50/WebProgramming/TwitterClone/TwitterTwin/twittertwin-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/tom/Dev/CompSci/cs50/WebProgramming/TwitterClone/TwitterTwin/twittertwin-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import{loadTweets}from'../lookup';export function TweetsComponent(props){var textAreaRef=/*#__PURE__*/React.createRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),newTweets=_useState2[0],setNewTweets=_useState2[1];var handleSubmit=function handleSubmit(event){event.preventDefault();var newVal=textAreaRef.current.value;var tempNewTweets=_toConsumableArray(newTweets);tempNewTweets.unshift({content:newVal,likes:0,id:123});setNewTweets(tempNewTweets);textAreaRef.current.value='';};return/*#__PURE__*/_jsxs(\"div\",{className:props.className,children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-3\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{ref:textAreaRef,required:true,className:\"form-control\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary my-3\",children:\"Tweet\"})]})}),/*#__PURE__*/_jsx(TweetsList,{newTweets:newTweets})]});}export function TweetsList(props){var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tweetsInit=_useState4[0],setTweetsInit=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tweets=_useState6[0],setTweets=_useState6[1];useEffect(function(){var final=_toConsumableArray(props.newTweets).concat(tweetsInit);if(final.length!==tweets.length){setTweets(final);}},[props.newTweets,tweets,tweetsInit]);useEffect(function(){var myCallback=function myCallback(response,status){if(status===200){setTweetsInit(response);}else{alert(\"There was an error\");}};loadTweets(myCallback);},[tweetsInit]);return tweets.map(function(item,index){return/*#__PURE__*/_jsx(Tweet,{tweet:item,className:\"my-5 py-5 border bg-white text-dark\"},\"\".concat(index,\"-{item.id}\"));});}export function ActionBtn(props){var tweet=props.tweet,action=props.action;var _useState7=useState(tweet.likes?tweet.likes:0),_useState8=_slicedToArray(_useState7,2),likes=_useState8[0],setLikes=_useState8[1];var _useState9=useState(tweet.userLike===true?true:false),_useState10=_slicedToArray(_useState9,2),userLike=_useState10[0],setUserLike=_useState10[1];var className=props.className?props.className:'btn btn-primary btn-sm';var actionDisplay=action.display?action.display:'Action';var handleClick=function handleClick(event){event.preventDefault();if(action.type==='like'){if(userLike===true){setLikes(likes-1);setUserLike(false);}else{setLikes(likes+1);setUserLike(true);}}};var display=action.type==='like'?\"\".concat(likes,\" \").concat(actionDisplay):actionDisplay;return/*#__PURE__*/_jsx(\"button\",{className:className,onClick:handleClick,children:display});}export function Tweet(props){var tweet=props.tweet;var className=props.className?props.className:'col-10 mx-auto col-md-6';return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsxs(\"p\",{children:[tweet.id,\" - \",tweet.content]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn btn-group\",children:[/*#__PURE__*/_jsx(ActionBtn,{tweet:tweet,action:{type:\"like\",display:\"Likes\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:tweet,action:{type:\"unlike\",display:\"Unlikes\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:tweet,action:{type:\"retweet\",display:\"Retweet\"}})]})]});}","map":{"version":3,"sources":["/Users/tom/Dev/CompSci/cs50/WebProgramming/TwitterClone/TwitterTwin/twittertwin-web/src/tweets/components.js"],"names":["React","useEffect","useState","loadTweets","TweetsComponent","props","textAreaRef","createRef","newTweets","setNewTweets","handleSubmit","event","preventDefault","newVal","current","value","tempNewTweets","unshift","content","likes","id","className","TweetsList","tweetsInit","setTweetsInit","tweets","setTweets","final","concat","length","myCallback","response","status","alert","map","item","index","ActionBtn","tweet","action","setLikes","userLike","setUserLike","actionDisplay","display","handleClick","type","Tweet"],"mappings":"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","sourcesContent":["import React, {useEffect, useState}  from 'react'\n\nimport {loadTweets} from '../lookup'\n\nexport function TweetsComponent(props) {\n  const textAreaRef = React.createRef()\n  const [newTweets, setNewTweets] = useState([])\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const newVal = textAreaRef.current.value\n    let tempNewTweets = [...newTweets]\n    tempNewTweets.unshift({\n      content: newVal,\n      likes: 0,\n      id: 123\n    })\n    setNewTweets(tempNewTweets)\n    textAreaRef.current.value = ''\n  }\n  return <div className={props.className}>\n    <div className='col-12 mb-3'>\n      <form onSubmit={handleSubmit}>\n        <textarea ref={textAreaRef} required={true} className='form-control'>\n\n        </textarea>\n        <button type='submit' className='btn btn-primary my-3'>Tweet</button>\n      </form>\n      </div>\n    <TweetsList newTweets={newTweets} />\n    </div>\n}\n\nexport function TweetsList(props) {\n    const [tweetsInit, setTweetsInit] = useState([])\n    const [tweets, setTweets] = useState([])\n    useEffect(() => {\n      const final = [...props.newTweets].concat(tweetsInit)\n      if (final.length !== tweets.length) {\n        setTweets(final)\n      }\n    }, [props.newTweets, tweets, tweetsInit])\n    useEffect(() => {\n      const myCallback = (response, status) => {\n        if (status === 200){\n          setTweetsInit(response) \n        } else {\n          alert(\"There was an error\")\n        }\n      }\n      loadTweets(myCallback)\n    },[tweetsInit])\n    return tweets.map((item, index)=>{\n      return <Tweet tweet={item} className='my-5 py-5 border bg-white text-dark' key={`${index}-{item.id}`} />\n    })\n  }\n\nexport function ActionBtn(props) {\n    const {tweet, action} = props\n    const [likes, setLikes] = useState(tweet.likes ? tweet.likes : 0)\n    const [userLike, setUserLike] = useState(tweet.userLike === true ? true : false)\n    const className = props.className ? props.className : 'btn btn-primary btn-sm'\n    const actionDisplay = action.display ? action.display : 'Action'\n    const handleClick = (event) => {\n      event.preventDefault()\n      if (action.type === 'like') {\n        if (userLike === true) {\n          setLikes(likes - 1)\n          setUserLike(false)\n        }\n        else{\n          setLikes(likes + 1)\n          setUserLike(true)\n        }\n      }\n    }\n    const display = action.type === 'like' ? `${likes} ${actionDisplay}` : actionDisplay\n    return <button className={className} onClick={handleClick}>{display}</button>\n }\n  \nexport function Tweet(props) {\n    const {tweet} = props\n    const className = props.className ? props.className : 'col-10 mx-auto col-md-6'\n    return <div className={className}>\n      <p>{tweet.id} - {tweet.content}</p>\n      <div className='btn btn-group'>\n        <ActionBtn tweet={tweet} action={{type: \"like\", display:\"Likes\"}} />\n        <ActionBtn tweet={tweet} action={{type: \"unlike\", display:\"Unlikes\"}} />\n        <ActionBtn tweet={tweet} action={{type: \"retweet\", display:\"Retweet\"}} />\n      </div>\n    </div>\n  }"]},"metadata":{},"sourceType":"module"}